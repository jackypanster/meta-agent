{
  "audit_timestamp": "2025-06-16T18:24:18.903148",
  "project_root": "/Users/zhibinpan/workspace/meta-agent",
  "summary": {
    "total_exception_handlers": 56,
    "total_fallback_patterns": 7,
    "files_with_exceptions": 15,
    "files_with_fallbacks": 5
  },
  "exception_handlers": [
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 56,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "PromptManagerError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        prompt_manager = PromptManager(\"config/prompts\")\n        print(\"âœ“ æç¤ºè¯é…ç½®åŠ è½½æˆåŠŸ\")\n        return prompt_manager\n    except PromptManagerError as e:\n        print(f\"âš ï¸  æç¤ºè¯é…ç½®åŠ è½½å¤±è´¥: {e}\")\n        print(\"å°†ä½¿ç”¨åŽå¤‡æç¤ºè¯\")\n        return None\n    except Exception as e:\n        print(f\"âš ï¸  æç¤ºè¯ç®¡ç†å™¨åˆå§‹åŒ–é”™è¯¯: {e}\")\n        print(\"å°†ä½¿ç”¨åŽå¤‡æç¤ºè¯\")\n        return None",
      "function_name": "initialize_prompt_manager",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 88,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        return prompt_manager.get_prompt(prompt_key, variables)\n    except Exception as e:\n        # å¿«é€Ÿå¤±è´¥ï¼šé…ç½®é—®é¢˜åº”è¯¥ç«‹å³æš´éœ²ï¼Œè€Œä¸æ˜¯æŽ©ç›–\n        raise RuntimeError(\n            f\"âŒ æç¤ºè¯é…ç½®é”™è¯¯ '{prompt_key}': {str(e)}\\n\"\n            f\"è¯·æ£€æŸ¥é…ç½®æ–‡ä»¶ config/prompts/ æ˜¯å¦å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®\"\n        ) from e",
      "function_name": "get_prompt",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 125,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "MCPConfigError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        # èŽ·å–MCPé…ç½®åŠ è½½å™¨\n        config_loader = get_mcp_config_loader()\n        \n        # èŽ·å–å¯ç”¨çš„æœåŠ¡å™¨\n        enabled_servers = config_loader.get_enabled_servers()\n        \n        if not enabled_servers:\n            print(\"âš ï¸  æœªæ‰¾åˆ°å¯ç”¨çš„MCPæœåŠ¡å™¨ï¼Œå°†ä½¿ç”¨é»˜è®¤é…ç½®\")\n            return default_config\n        \n        # æž„å»ºQwen-Agentæ ¼å¼çš„MCPé…ç½®\n        mcp_servers = {}\n        \n        for server_name in enabled_servers:\n            server_config = config_loader.get_server_config(server_name)\n            if server_config:\n                # è½¬æ¢ä¸ºQwen-AgentæœŸæœ›çš„æ ¼å¼\n                qwen_config = {\n                    'command': server_config['command'],\n                    'args': server_config['args']\n                }\n                \n                # æ·»åŠ çŽ¯å¢ƒå˜é‡ï¼ˆå¦‚æžœæœ‰ï¼‰\n                if 'env' in server_config:\n                    qwen_config['env'] = server_config['env']\n                \n                mcp_servers[server_name] = qwen_config\n                \n                # æ˜¾ç¤ºåŠ è½½çš„æœåŠ¡å™¨ä¿¡æ¯\n                category = server_config.get('category', 'æœªåˆ†ç±»')\n                timeout = server_config.get('timeout', 'é»˜è®¤')\n                print(f\"âœ“ åŠ è½½MCPæœåŠ¡å™¨: {server_name} (åˆ†ç±»: {category}, è¶…æ—¶: {timeout}s)\")\n        \n        print(f\"ðŸ“¡ æˆåŠŸåŠ è½½ {len(mcp_servers)} ä¸ªMCPæœåŠ¡å™¨\")\n        return mcp_servers\n        \n    except MCPConfigError as e:\n        # é…ç½®æ–‡ä»¶ç›¸å…³é”™è¯¯ï¼Œä½¿ç”¨é»˜è®¤é…ç½®\n        if \"é…ç½®æ–‡ä»¶ä¸å­˜åœ¨\" in str(e) or \"FileNotFoundError\" in str(e):\n            print(\"âš ï¸  MCPé…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®\")\n            print(f\"ðŸ“¡ åŠ è½½é»˜è®¤MCPæœåŠ¡å™¨: {list(default_config.keys())}\")\n            return default_config\n        else:\n            # å…¶ä»–é…ç½®é”™è¯¯ï¼Œä¹Ÿä½¿ç”¨é»˜è®¤é…ç½®ä½†è®°å½•è­¦å‘Š\n            print(f\"âš ï¸  MCPé…ç½®åŠ è½½å¤±è´¥: {e}\")\n            print(\"ðŸ“¡ ä½¿ç”¨é»˜è®¤é…ç½®ç»§ç»­è¿è¡Œ\")\n            return default_config\n    except Exception as e:\n        # ä¸¥é‡é”™è¯¯ï¼Œä½¿ç”¨é»˜è®¤é…ç½®\n        print(f\"âš ï¸  MCPé…ç½®ç³»ç»Ÿé”™è¯¯: {e}\")\n        print(\"ðŸ“¡ ä½¿ç”¨é»˜è®¤é…ç½®ç»§ç»­è¿è¡Œ\")\n        return default_config",
      "function_name": "setup_mcp_servers",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 183,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "ConfigError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        config = get_config()\n    except ConfigError as e:\n        raise ModelConfigError(f\"é…ç½®åŠ è½½å¤±è´¥: {str(e)}\")",
      "function_name": "create_llm_config",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 192,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "ConfigError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        api_key = config.require('DEEPSEEK_API_KEY')\n    except ConfigError:\n        raise ModelConfigError(\n            \"âŒ æœªæ‰¾åˆ°DeepSeek APIå¯†é’¥ï¼\\n\"\n            \"è¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®: DEEPSEEK_API_KEY=your-api-key\"\n        )",
      "function_name": "create_llm_config",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 234,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "MCPConfigError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        # è®¾ç½®MCPæœåŠ¡å™¨\n        mcp_servers = setup_mcp_servers()\n        \n        # æž„å»ºå·¥å…·åˆ—è¡¨\n        tools = [\n            'custom_save_info', \n            'custom_recall_info', \n            'custom_math_calc',\n            {\n                'mcpServers': mcp_servers  # ä½¿ç”¨åŠ¨æ€åŠ è½½çš„MCPé…ç½®\n            },\n            'code_interpreter',  # å†…ç½®ä»£ç è§£é‡Šå™¨å·¥å…·\n        ]\n        \n        return tools\n        \n    except MCPConfigError as e:\n        # MCPé…ç½®å¤±è´¥ï¼Œä½¿ç”¨åŸºæœ¬å·¥å…·åˆ—è¡¨\n        print(f\"âš ï¸  MCPé…ç½®å¤±è´¥: {e}\")\n        print(\"ðŸ“¦ ä½¿ç”¨åŸºæœ¬å·¥å…·åˆ—è¡¨ç»§ç»­è¿è¡Œ\")\n        \n        return [\n            'custom_save_info', \n            'custom_recall_info', \n            'custom_math_calc',\n            'code_interpreter',  # å†…ç½®ä»£ç è§£é‡Šå™¨å·¥å…·\n        ]\n    except Exception as e:\n        # å…¶ä»–é”™è¯¯ï¼Œä¹Ÿä½¿ç”¨åŸºæœ¬å·¥å…·åˆ—è¡¨\n        print(f\"âš ï¸  å·¥å…·åˆ—è¡¨åˆ›å»ºå¤±è´¥: {e}\")\n        print(\"ðŸ“¦ ä½¿ç”¨åŸºæœ¬å·¥å…·åˆ—è¡¨ç»§ç»­è¿è¡Œ\")\n        \n        return [\n            'custom_save_info', \n            'custom_recall_info', \n            'custom_math_calc',\n            'code_interpreter',  # å†…ç½®ä»£ç è§£é‡Šå™¨å·¥å…·\n        ]",
      "function_name": "create_tools_list",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 277,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "KeyboardInterrupt",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        # 1. åˆå§‹åŒ–æç¤ºè¯ç®¡ç†å™¨\n        initialize_prompt_manager()\n        \n        # 2. æ˜¾ç¤ºæ¬¢è¿Žç•Œé¢\n        show_welcome()\n        \n        # 3. åˆ›å»ºAgent (with enhanced error handling)\n        ai_loading_msg = get_prompt(\"ai_loading\")\n        print(f\"\\n{ai_loading_msg}\")\n        \n        try:\n            llm_cfg = create_llm_config()\n        except ModelConfigError as e:\n            model_config_error = get_prompt(\"model_config_error\", {\"error_details\": str(e)})\n            print(f\"\\n{model_config_error}\")\n            return\n        except Exception as e:\n            init_error = get_prompt(\n                \"initialization_error\",\n                {\"error_details\": str(e)},\n            )\n            print(f\"\\n{init_error}\")\n            return\n        \n        # 4. è®¾ç½®MCPæœåŠ¡å™¨å’Œå·¥å…·\n        mcp_loading_msg = get_prompt(\"mcp_loading\")\n        print(f\"\\n{mcp_loading_msg}\")\n        \n        tools = create_tools_list()\n        \n        # èŽ·å–ç³»ç»Ÿæç¤ºè¯ - ä»Žé…ç½®æ–‡ä»¶åŠ è½½\n        system_message = get_prompt(\"system_base\")\n\n        # åˆ›å»ºAgent (with error handling) - å‚è€ƒå®˜æ–¹Qwen3ç¤ºä¾‹\n        try:\n            # èŽ·å–Agenté…ç½®\n            agent_name = get_prompt(\"agent_name\")\n            agent_description = get_prompt(\n                \"agent_description\")\n            \n            agent = Assistant(\n                llm=llm_cfg,\n                system_message=system_message,\n                function_list=tools,\n                name=agent_name,\n                description=agent_description\n            )\n            \n            ai_success_msg = get_prompt(\"ai_success\")\n            print(ai_success_msg)\n        except Exception as e:\n            agent_creation_error = get_prompt(\n                \"agent_creation_error\",\n                {\"error_details\": str(e)},\n            )\n            print(agent_creation_error)\n            return\n        \n        # 5. å¯¹è¯å¾ªçŽ¯ (with enhanced error handling)\n        messages = []\n        memory_store = get_memory_store()\n        config = get_config()\n        use_r1 = config.get_bool('USE_DEEPSEEK_R1', False)\n        model_display = \"DeepSeek-R1æŽ¨ç†æ¨¡åž‹\" if use_r1 else \"DeepSeek-V3ç¨³å®šæ¨¡åž‹\"\n        \n        conversation_start_msg = get_prompt(\n            \"conversation_start\",\n            {\"model_display\": model_display}\n        )\n        print(f\"\\n{conversation_start_msg}\\n\")\n        \n        while True:\n            # èŽ·å–ç”¨æˆ·è¾“å…¥\n            try:\n                user_input = input(\"æ‚¨: \").strip()\n            except (EOFError, KeyboardInterrupt):\n                goodbye_msg = get_prompt(\"goodbye_message\")\n                print(f\"\\n\\n{goodbye_msg}\")\n                break\n            \n            # å¤„ç†ç‰¹æ®Šå‘½ä»¤\n            if user_input.lower() in ['quit', 'exit', 'q', 'é€€å‡º']:\n                goodbye_msg = get_prompt(\"goodbye_message\")\n                print(goodbye_msg)\n                break\n            elif user_input.lower() in ['help', 'h', 'å¸®åŠ©']:\n                show_help()\n                continue\n            elif user_input.lower() in ['clear', 'cls', 'æ¸…å±']:\n                clear_screen()\n                continue\n            elif user_input.lower() in ['memory', 'mem', 'è®°å¿†']:\n                show_memory()\n                continue\n            elif not user_input:\n                continue\n            \n            # æ·»åŠ ç”¨æˆ·æ¶ˆæ¯åˆ°åŽ†å²\n            messages.append({'role': 'user', 'content': user_input})\n            \n            # æ˜¾ç¤ºAIå›žå¤\n            ai_response_prefix = get_prompt(\"ai_response_prefix\")\n            print(f\"\\n{ai_response_prefix}\", end='', flush=True)\n            \n            try:\n                # è°ƒç”¨Agentå¹¶æµå¼æ˜¾ç¤º\n                response_text = \"\"\n                response_messages = agent.run(messages=messages)\n                \n                for response in response_messages:\n                    response_text = typewriter_print(response, response_text)\n                \n                # æ¸…ç†å¹¶æ·»åŠ å“åº”åˆ°åŽ†å² - ç‰¹åˆ«å¤„ç†R1æ¨¡åž‹çš„reasoning_content\n                clean_messages = []\n                for msg in response_messages:\n                    if isinstance(msg, dict):\n                        # åˆ›å»ºæ¸…ç†åŽçš„æ¶ˆæ¯å‰¯æœ¬ï¼Œç§»é™¤reasoning_content\n                        clean_msg = {k: v for k, v in msg.items() if k != 'reasoning_content'}\n                        clean_messages.append(clean_msg)\n                    else:\n                        clean_messages.append(msg)\n                \n                messages.extend(clean_messages)\n                \n                # ä¿å­˜å¯¹è¯åˆ°ç®€å•åŽ†å²è®°å½•\n                memory_store['history'].append({\n                    'user': user_input,\n                    'assistant': response_text,\n                    'timestamp': time.time()\n                })\n                \n                # ä¿æŒåŽ†å²è®°å½•ä¸è¶…è¿‡50æ¡\n                if len(memory_store['history']) > 50:\n                    memory_store['history'] = memory_store['history'][-50:]\n                \n                print()  # æ¢è¡Œ\n                \n            except requests.exceptions.RequestException as e:\n                network_error_msg = get_prompt(\n                    \"network_error\",\n                    {\"error_details\": str(e)},\n                )\n                print(f\"\\n{network_error_msg}\")\n            except APIConnectionError as e:\n                api_error_msg = get_prompt(\n                    \"api_error\",\n                    {\"error_details\": str(e)},\n                )\n                print(f\"\\n{api_error_msg}\")\n            except Exception as e:\n                error_msg = str(e)\n                # ç‰¹åˆ«å¤„ç†DeepSeek R1æ¨¡åž‹çš„reasoning_contenté”™è¯¯\n                if 'reasoning_content' in error_msg:\n                    deepseek_r1_error_msg = get_prompt(\n                        \"deepseek_r1_error\")\n                    print(f\"\\n{deepseek_r1_error_msg}\")\n                    # æ¸…ç†messagesä¸­å¯èƒ½çš„reasoning_content\n                    cleaned_messages = []\n                    for msg in messages:\n                        if isinstance(msg, dict) and 'reasoning_content' in msg:\n                            clean_msg = {k: v for k, v in msg.items() if k != 'reasoning_content'}\n                            cleaned_messages.append(clean_msg)\n                        else:\n                            cleaned_messages.append(msg)\n                    messages = cleaned_messages\n                    continue\n                else:\n                    generic_error_msg = get_prompt(\n                        \"generic_error\",\n                        {\"error_message\": error_msg})\n                    print(f\"\\n{generic_error_msg}\")\n    \n    except KeyboardInterrupt:\n        interrupt_msg = get_prompt(\n            \"interrupt_message\")\n        print(f\"\\n\\n{interrupt_msg}\")\n    except Exception as e:\n        program_exit_error_msg = get_prompt(\n            \"program_exit_error\",\n            {\"error_details\": str(e)},\n        )\n        print(f\"\\n{program_exit_error_msg}\")",
      "function_name": "main",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 288,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "ModelConfigError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            llm_cfg = create_llm_config()\n        except ModelConfigError as e:\n            model_config_error = get_prompt(\"model_config_error\", {\"error_details\": str(e)})\n            print(f\"\\n{model_config_error}\")\n            return\n        except Exception as e:\n            init_error = get_prompt(\n                \"initialization_error\",\n                {\"error_details\": str(e)},\n            )\n            print(f\"\\n{init_error}\")\n            return",
      "function_name": "main",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 312,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            # èŽ·å–Agenté…ç½®\n            agent_name = get_prompt(\"agent_name\")\n            agent_description = get_prompt(\n                \"agent_description\")\n            \n            agent = Assistant(\n                llm=llm_cfg,\n                system_message=system_message,\n                function_list=tools,\n                name=agent_name,\n                description=agent_description\n            )\n            \n            ai_success_msg = get_prompt(\"ai_success\")\n            print(ai_success_msg)\n        except Exception as e:\n            agent_creation_error = get_prompt(\n                \"agent_creation_error\",\n                {\"error_details\": str(e)},\n            )\n            print(agent_creation_error)\n            return",
      "function_name": "main",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 351,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "(EOFError, KeyboardInterrupt)"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                user_input = input(\"æ‚¨: \").strip()\n            except (EOFError, KeyboardInterrupt):\n                goodbye_msg = get_prompt(\"goodbye_message\")\n                print(f\"\\n\\n{goodbye_msg}\")\n                break",
      "function_name": "main",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 382,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "requests.exceptions.RequestException",
        "APIConnectionError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                # è°ƒç”¨Agentå¹¶æµå¼æ˜¾ç¤º\n                response_text = \"\"\n                response_messages = agent.run(messages=messages)\n                \n                for response in response_messages:\n                    response_text = typewriter_print(response, response_text)\n                \n                # æ¸…ç†å¹¶æ·»åŠ å“åº”åˆ°åŽ†å² - ç‰¹åˆ«å¤„ç†R1æ¨¡åž‹çš„reasoning_content\n                clean_messages = []\n                for msg in response_messages:\n                    if isinstance(msg, dict):\n                        # åˆ›å»ºæ¸…ç†åŽçš„æ¶ˆæ¯å‰¯æœ¬ï¼Œç§»é™¤reasoning_content\n                        clean_msg = {k: v for k, v in msg.items() if k != 'reasoning_content'}\n                        clean_messages.append(clean_msg)\n                    else:\n                        clean_messages.append(msg)\n                \n                messages.extend(clean_messages)\n                \n                # ä¿å­˜å¯¹è¯åˆ°ç®€å•åŽ†å²è®°å½•\n                memory_store['history'].append({\n                    'user': user_input,\n                    'assistant': response_text,\n                    'timestamp': time.time()\n                })\n                \n                # ä¿æŒåŽ†å²è®°å½•ä¸è¶…è¿‡50æ¡\n                if len(memory_store['history']) > 50:\n                    memory_store['history'] = memory_store['history'][-50:]\n                \n                print()  # æ¢è¡Œ\n                \n            except requests.exceptions.RequestException as e:\n                network_error_msg = get_prompt(\n                    \"network_error\",\n                    {\"error_details\": str(e)},\n                )\n                print(f\"\\n{network_error_msg}\")\n            except APIConnectionError as e:\n                api_error_msg = get_prompt(\n                    \"api_error\",\n                    {\"error_details\": str(e)},\n                )\n                print(f\"\\n{api_error_msg}\")\n            except Exception as e:\n                error_msg = str(e)\n                # ç‰¹åˆ«å¤„ç†DeepSeek R1æ¨¡åž‹çš„reasoning_contenté”™è¯¯\n                if 'reasoning_content' in error_msg:\n                    deepseek_r1_error_msg = get_prompt(\n                        \"deepseek_r1_error\")\n                    print(f\"\\n{deepseek_r1_error_msg}\")\n                    # æ¸…ç†messagesä¸­å¯èƒ½çš„reasoning_content\n                    cleaned_messages = []\n                    for msg in messages:\n                        if isinstance(msg, dict) and 'reasoning_content' in msg:\n                            clean_msg = {k: v for k, v in msg.items() if k != 'reasoning_content'}\n                            cleaned_messages.append(clean_msg)\n                        else:\n                            cleaned_messages.append(msg)\n                    messages = cleaned_messages\n                    continue\n                else:\n                    generic_error_msg = get_prompt(\n                        \"generic_error\",\n                        {\"error_message\": error_msg})\n                    print(f\"\\n{generic_error_msg}\")",
      "function_name": "main",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/ui/helpers.py",
      "line_number": 26,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "PromptManagerError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        ui_prompt_manager = PromptManager(\"config/prompts\")\n        return ui_prompt_manager\n    except PromptManagerError as e:\n        # é™é»˜å¤±è´¥ï¼Œä½¿ç”¨åŽå¤‡æ–‡æœ¬\n        return None\n    except Exception as e:\n        # é™é»˜å¤±è´¥ï¼Œä½¿ç”¨åŽå¤‡æ–‡æœ¬\n        return None",
      "function_name": "initialize_ui_prompts",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/ui/helpers.py",
      "line_number": 48,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        return ui_prompt_manager.get_prompt(prompt_key, variables)\n    except Exception as e:\n        # å¿«é€Ÿå¤±è´¥ï¼šUIé…ç½®é—®é¢˜åº”è¯¥ç«‹å³æš´éœ²\n        raise RuntimeError(\n            f\"âŒ UIæç¤ºè¯é…ç½®é”™è¯¯ '{prompt_key}': {str(e)}\\n\"\n            f\"è¯·æ£€æŸ¥é…ç½®æ–‡ä»¶ config/prompts/templates/ui_messages.json æ˜¯å¦å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®\"\n        ) from e",
      "function_name": "get_prompt",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/prompt_manager.py",
      "line_number": 43,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            self.prompts_cache.clear()\n            self.config_cache.clear()\n            \n            self._load_config_file(\"system_prompts.json\")\n            \n            templates_dir = self.config_dir / \"templates\"\n            if templates_dir.exists():\n                for template_file in templates_dir.glob(\"*.json\"):\n                    self._load_config_file(f\"templates/{template_file.name}\")\n            \n            locale_file = self.config_dir / \"locales\" / self.locale / \"system_prompts.json\"\n            if locale_file.exists():\n                self._load_config_file(f\"locales/{self.locale}/system_prompts.json\")\n            \n            self.last_reload = datetime.now()\n        except Exception as e:\n            raise PromptConfigError(f\"åŠ è½½é…ç½®å¤±è´¥: {e}\")",
      "function_name": "load_prompts",
      "class_name": "PromptManager"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/prompt_manager.py",
      "line_number": 65,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "json.JSONDecodeError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            with open(file_path, 'r', encoding='utf-8') as f:\n                config = json.load(f)\n            self.config_cache[relative_path] = config\n            if 'prompts' in config:\n                self.prompts_cache.update(config['prompts'])\n        except json.JSONDecodeError as e:\n            raise PromptConfigError(f\"JSONè§£æžé”™è¯¯ {file_path}: {e}\")\n        except Exception as e:\n            raise PromptConfigError(f\"è¯»å–æ–‡ä»¶å¤±è´¥ {file_path}: {e}\")",
      "function_name": "_load_config_file",
      "class_name": "PromptManager"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/prompt_manager.py",
      "line_number": 87,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                template = Template(content)\n                content = template.safe_substitute(variables)\n            except Exception:\n                pass",
      "function_name": "get_prompt",
      "class_name": "PromptManager"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_validator.py",
      "line_number": 77,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                import json\n                with open(self.schema_path, 'r', encoding='utf-8') as f:\n                    self._schema_cache = json.load(f)\n                logger.debug(f\"å·²åŠ è½½éªŒè¯Schema: {self.schema_path}\")\n            except Exception as e:\n                logger.warning(f\"æ— æ³•åŠ è½½éªŒè¯Schema: {e}\")\n                self._schema_cache = {}",
      "function_name": "_load_schema",
      "class_name": "MCPConfigValidator"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_validator.py",
      "line_number": 101,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "ValidationError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            jsonschema.validate(config, schema)\n            logger.debug(\"JSON SchemaéªŒè¯é€šè¿‡\")\n        except ValidationError as e:\n            field_path = '.'.join(str(p) for p in e.absolute_path) if e.absolute_path else \"æ ¹çº§åˆ«\"\n            \n            # ç”Ÿæˆå‹å¥½çš„é”™è¯¯ä¿¡æ¯\n            if \"required\" in e.message.lower():\n                missing_field = e.message.split(\"'\")[1] if \"'\" in e.message else \"æœªçŸ¥å­—æ®µ\"\n                message = f\"ç¼ºå°‘å¿…éœ€å­—æ®µ: {missing_field}\"\n                suggestions = [f\"è¯·åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  '{missing_field}' å­—æ®µ\"]\n            elif \"type\" in e.message.lower():\n                message = f\"å­—æ®µç±»åž‹é”™è¯¯: {e.message}\"\n                suggestions = [\"è¯·æ£€æŸ¥å­—æ®µçš„æ•°æ®ç±»åž‹æ˜¯å¦æ­£ç¡®\"]\n            elif \"enum\" in e.message.lower():\n                message = f\"å­—æ®µå€¼ä¸åœ¨å…è®¸èŒƒå›´å†…: {e.message}\"\n                suggestions = [\"è¯·æ£€æŸ¥å­—æ®µå€¼æ˜¯å¦ä¸ºæœ‰æ•ˆé€‰é¡¹\"]\n            else:\n                message = f\"é…ç½®æ ¼å¼é”™è¯¯: {e.message}\"\n                suggestions = [\"è¯·æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®\"]\n            \n            raise MCPValidationError(message, field_path, suggestions)",
      "function_name": "validate_schema",
      "class_name": "MCPConfigValidator"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_validator.py",
      "line_number": 438,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "MCPValidationError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            # 1. JSON Schemaç»“æž„éªŒè¯\n            self.validate_schema(config)\n            \n            # 2. ç‰ˆæœ¬å·éªŒè¯\n            self.validate_version(config)\n            \n            # 3. æœåŠ¡å™¨é…ç½®éªŒè¯\n            self.validate_servers(config)\n            \n            # 4. å…¨å±€è®¾ç½®éªŒè¯\n            self.validate_global_settings(config)\n            \n            # 5. åˆ†ç±»å®šä¹‰éªŒè¯\n            self.validate_categories(config)\n            \n            # 6. é…ç½®ä¸€è‡´æ€§éªŒè¯\n            self.validate_consistency(config)\n            \n            logger.info(\"MCPé…ç½®éªŒè¯é€šè¿‡\")\n            return True, []\n            \n        except MCPValidationError as e:\n            errors.append(str(e))\n            logger.error(f\"MCPé…ç½®éªŒè¯å¤±è´¥: {e}\")\n            return False, errors\n        except Exception as e:\n            error_msg = f\"é…ç½®éªŒè¯è¿‡ç¨‹ä¸­å‘ç”ŸæœªçŸ¥é”™è¯¯: {e}\"\n            errors.append(error_msg)\n            logger.error(error_msg)\n            return False, errors",
      "function_name": "validate_config",
      "class_name": "MCPConfigValidator"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/settings.py",
      "line_number": 44,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            with open(env_path, 'r', encoding='utf-8') as f:\n                for line_num, line in enumerate(f, 1):\n                    line = line.strip()\n                    \n                    # è·³è¿‡ç©ºè¡Œå’Œæ³¨é‡Š\n                    if not line or line.startswith('#'):\n                        continue\n                    \n                    # è§£æžé”®å€¼å¯¹\n                    if '=' in line:\n                        key, value = line.split('=', 1)\n                        key = key.strip()\n                        value = value.strip()\n                        \n                        # ç§»é™¤å¼•å·\n                        if value.startswith('\"') and value.endswith('\"'):\n                            value = value[1:-1]\n                        elif value.startswith(\"'\") and value.endswith(\"'\"):\n                            value = value[1:-1]\n                        \n                        self._config[key] = value\n                    else:\n                        print(f\"è­¦å‘Š: .envæ–‡ä»¶ç¬¬{line_num}è¡Œæ ¼å¼é”™è¯¯: {line}\")\n                        \n        except Exception as e:\n            raise ConfigError(f\"è¯»å–é…ç½®æ–‡ä»¶å¤±è´¥: {str(e)}\")",
      "function_name": "_load_env_file",
      "class_name": "Config"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_watcher.py",
      "line_number": 58,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            # é‡ç½®é…ç½®åŠ è½½å™¨ä»¥å¼ºåˆ¶é‡æ–°åŠ è½½\n            reset_mcp_config_loader()\n            \n            # åŠ è½½æ–°é…ç½®\n            config_loader = get_mcp_config_loader()\n            new_config = config_loader.load_config()\n            \n            logger.info(\"é…ç½®æ–‡ä»¶é‡æ–°åŠ è½½æˆåŠŸ\")\n            \n            # è°ƒç”¨å›žè°ƒå‡½æ•°é€šçŸ¥é…ç½®å˜åŒ–\n            if self.callback:\n                self.callback(new_config)\n                \n        except Exception as e:\n            logger.error(f\"é…ç½®æ–‡ä»¶é‡æ–°åŠ è½½å¤±è´¥: {e}\")",
      "function_name": "_handle_config_change",
      "class_name": "MCPConfigChangeHandler"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_watcher.py",
      "line_number": 118,
      "column": 16,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                    callback(config)\n                except Exception as e:\n                    logger.error(f\"é…ç½®å˜åŒ–å›žè°ƒæ‰§è¡Œå¤±è´¥: {e}\")",
      "function_name": "_notify_callbacks",
      "class_name": "MCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_watcher.py",
      "line_number": 134,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                # æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨\n                if not self.config_path.exists():\n                    logger.warning(f\"é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {self.config_path}\")\n                    return False\n                \n                # åˆ›å»ºäº‹ä»¶å¤„ç†å™¨\n                self.event_handler = MCPConfigChangeHandler(\n                    str(self.config_path),\n                    self._notify_callbacks\n                )\n                \n                # åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿè§‚å¯Ÿè€…\n                self.observer = Observer()\n                self.observer.schedule(\n                    self.event_handler,\n                    str(self.config_path.parent),\n                    recursive=False\n                )\n                \n                # å¯åŠ¨ç›‘æŽ§\n                self.observer.start()\n                self.is_watching = True\n                \n                logger.info(f\"å¼€å§‹ç›‘æŽ§MCPé…ç½®æ–‡ä»¶: {self.config_path}\")\n                return True\n                \n            except Exception as e:\n                logger.error(f\"å¯åŠ¨é…ç½®æ–‡ä»¶ç›‘æŽ§å¤±è´¥: {e}\")\n                self.is_watching = False\n                return False",
      "function_name": "start_watching",
      "class_name": "MCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_watcher.py",
      "line_number": 172,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                if self.observer:\n                    self.observer.stop()\n                    self.observer.join(timeout=5.0)\n                    self.observer = None\n                \n                self.event_handler = None\n                self.is_watching = False\n                \n                logger.info(\"å·²åœæ­¢MCPé…ç½®æ–‡ä»¶ç›‘æŽ§\")\n                \n            except Exception as e:\n                logger.error(f\"åœæ­¢é…ç½®æ–‡ä»¶ç›‘æŽ§å¤±è´¥: {e}\")",
      "function_name": "stop_watching",
      "class_name": "MCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_watcher.py",
      "line_number": 192,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            # é‡ç½®é…ç½®åŠ è½½å™¨\n            reset_mcp_config_loader()\n            \n            # åŠ è½½æ–°é…ç½®\n            config_loader = get_mcp_config_loader()\n            new_config = config_loader.load_config()\n            \n            logger.info(\"æ‰‹åŠ¨é‡æ–°åŠ è½½é…ç½®æˆåŠŸ\")\n            \n            # é€šçŸ¥å›žè°ƒå‡½æ•°\n            self._notify_callbacks(new_config)\n            \n            return new_config\n            \n        except Exception as e:\n            logger.error(f\"æ‰‹åŠ¨é‡æ–°åŠ è½½é…ç½®å¤±è´¥: {e}\")\n            return None",
      "function_name": "reload_config",
      "class_name": "MCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_config.py",
      "line_number": 55,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                with open(self.schema_path, 'r', encoding='utf-8') as f:\n                    self._schema_cache = json.load(f)\n                logger.debug(f\"å·²åŠ è½½JSON Schema: {self.schema_path}\")\n            except Exception as e:\n                logger.warning(f\"æ— æ³•åŠ è½½JSON Schema: {e}\")\n                self._schema_cache = {}",
      "function_name": "_load_schema",
      "class_name": "MCPConfigLoader"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_config.py",
      "line_number": 71,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "ValidationError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            jsonschema.validate(config, schema)\n            logger.debug(\"é…ç½®æ–‡ä»¶éªŒè¯é€šè¿‡\")\n        except ValidationError as e:\n            error_msg = f\"é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯: {e.message}\"\n            if e.absolute_path:\n                error_msg += f\" (è·¯å¾„: {'.'.join(str(p) for p in e.absolute_path)})\"\n            raise MCPConfigError(error_msg)",
      "function_name": "_validate_config",
      "class_name": "MCPConfigLoader"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_config.py",
      "line_number": 92,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "json.JSONDecodeError",
        "FileNotFoundError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            current_mtime = self.config_path.stat().st_mtime\n            \n            # æ£€æŸ¥æ˜¯å¦éœ€è¦é‡æ–°åŠ è½½\n            if (self._config_cache is None or \n                force_reload or \n                current_mtime != self._last_modified):\n                \n                with open(self.config_path, 'r', encoding='utf-8') as f:\n                    config = json.load(f)\n                \n                # éªŒè¯é…ç½®æ ¼å¼\n                self._validate_config(config)\n                \n                # æ›´æ–°ç¼“å­˜\n                self._config_cache = config\n                self._last_modified = current_mtime\n                \n                logger.info(f\"å·²åŠ è½½MCPé…ç½®: {self.config_path}\")\n                logger.debug(f\"é…ç½®ç‰ˆæœ¬: {config.get('version', 'unknown')}\")\n                \n                # æ›´æ–°å…ƒæ•°æ®ä¸­çš„æœ€åŽä¿®æ”¹æ—¶é—´\n                if 'metadata' in config:\n                    config['metadata']['last_modified'] = datetime.now().isoformat() + 'Z'\n            \n            return self._config_cache\n            \n        except json.JSONDecodeError as e:\n            raise MCPConfigError(f\"é…ç½®æ–‡ä»¶JSONæ ¼å¼é”™è¯¯: {e}\")\n        except FileNotFoundError:\n            raise MCPConfigError(f\"é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {self.config_path}\")\n        except Exception as e:\n            raise MCPConfigError(f\"åŠ è½½é…ç½®æ–‡ä»¶å¤±è´¥: {e}\")",
      "function_name": "load_config",
      "class_name": "MCPConfigLoader"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_config.py",
      "line_number": 261,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            old_config = self._config_cache.copy() if self._config_cache else {}\n            self.load_config(force_reload=True)\n            \n            # æ£€æŸ¥é…ç½®æ˜¯å¦æœ‰å˜åŒ–\n            new_config = self._config_cache\n            if old_config != new_config:\n                logger.info(\"é…ç½®æ–‡ä»¶å·²æ›´æ–°å¹¶é‡æ–°åŠ è½½\")\n                return True\n            else:\n                logger.debug(\"é…ç½®æ–‡ä»¶æ— å˜åŒ–\")\n                return False\n                \n        except Exception as e:\n            logger.error(f\"é‡æ–°åŠ è½½é…ç½®å¤±è´¥: {e}\")\n            return False",
      "function_name": "reload_config",
      "class_name": "MCPConfigLoader"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/tools/qwen_tools/memory_tools.py",
      "line_number": 38,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            data = json.loads(params)\n            info = data['info']\n            info_type = data.get('type', 'fact')\n            \n            # ç®€å•ä¿å­˜åˆ°å†…å­˜\n            entry = {\n                'content': info,\n                'timestamp': time.time(),\n                'time_str': time.strftime('%Y-%m-%d %H:%M:%S')\n            }\n            \n            if info_type == 'preference':\n                MEMORY_STORE['preferences'].append(entry)\n            else:\n                MEMORY_STORE['facts'].append(entry)\n            \n            return json.dumps({\n                'status': 'saved',\n                'message': f'å·²ä¿å­˜{info_type}: {info}'\n            }, ensure_ascii=False)\n            \n        except Exception as e:\n            return json.dumps({'error': f'ä¿å­˜å¤±è´¥: {str(e)}'})",
      "function_name": "call",
      "class_name": "SaveInfoTool"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/tools/qwen_tools/memory_tools.py",
      "line_number": 76,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            data = json.loads(params)\n            query = data['query'].lower()\n            \n            # ç®€å•çš„å…³é”®è¯æœç´¢\n            results = []\n            \n            for fact in MEMORY_STORE['facts']:\n                if query in fact['content'].lower():\n                    results.append(fact)\n                    \n            for pref in MEMORY_STORE['preferences']:\n                if query in pref['content'].lower():\n                    results.append(pref)\n            \n            if results:\n                return json.dumps({\n                    'found': True,\n                    'count': len(results),\n                    'results': results[-3:]  # æœ€è¿‘3æ¡\n                }, ensure_ascii=False)\n            else:\n                return json.dumps({\n                    'found': False,\n                    'message': 'æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä¿¡æ¯'\n                })\n                \n        except Exception as e:\n            return json.dumps({'error': f'æœç´¢å¤±è´¥: {str(e)}'})",
      "function_name": "call",
      "class_name": "RecallInfoTool"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/tools/qwen_tools/calculator_tool.py",
      "line_number": 25,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            data = json.loads(params)\n            expression = data['expression']\n            \n            # å®‰å…¨è®¡ç®— - åªå…è®¸æ•°å­¦è¿ç®—\n            allowed_names = {\n                k: v for k, v in math.__dict__.items() if not k.startswith(\"__\")\n            }\n            allowed_names.update({\"abs\": abs, \"round\": round})\n            \n            result = eval(expression, {\"__builtins__\": {}}, allowed_names)\n            \n            return json.dumps({\n                'expression': expression,\n                'result': result\n            }, ensure_ascii=False)\n            \n        except Exception as e:\n            return json.dumps({'error': f'è®¡ç®—é”™è¯¯: {str(e)}'})",
      "function_name": "call",
      "class_name": "CalculatorTool"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/test_prompt_config_validation.py",
      "line_number": 65,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "ValidationError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            validate(instance=config_data, schema=self.schema)\n        except ValidationError as e:\n            pytest.fail(f\"ä¸»é…ç½®æ–‡ä»¶éªŒè¯å¤±è´¥: {e.message}\")",
      "function_name": "test_main_config_validation",
      "class_name": "TestPromptConfigValidation"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/test_prompt_config_validation.py",
      "line_number": 84,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "ValidationError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                validate(instance=template_data, schema=self.schema)\n            except ValidationError as e:\n                pytest.fail(f\"æ¨¡æ¿æ–‡ä»¶ {template_file} éªŒè¯å¤±è´¥: {e.message}\")",
      "function_name": "test_template_files_validation",
      "class_name": "TestPromptConfigValidation"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/test_prompt_config_validation.py",
      "line_number": 102,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "ValidationError"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                validate(instance=locale_data, schema=self.schema)\n            except ValidationError as e:\n                pytest.fail(f\"å¤šè¯­è¨€æ–‡ä»¶ {locale}/{filename} éªŒè¯å¤±è´¥: {e.message}\")",
      "function_name": "test_locale_files_validation",
      "class_name": "TestPromptConfigValidation"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/test_prompt_config_validation.py",
      "line_number": 156,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "AssertionError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        test_instance.test_directory_structure_exists()\n        print(\"âœ… ç›®å½•ç»“æž„éªŒè¯é€šè¿‡\")\n        \n        test_instance.test_required_files_exist()\n        print(\"âœ… æ–‡ä»¶å­˜åœ¨æ€§éªŒè¯é€šè¿‡\")\n        \n        test_instance.test_main_config_validation()\n        print(\"âœ… ä¸»é…ç½®æ–‡ä»¶schemaéªŒè¯é€šè¿‡\")\n        \n        test_instance.test_template_files_validation()\n        print(\"âœ… æ¨¡æ¿æ–‡ä»¶schemaéªŒè¯é€šè¿‡\")\n        \n        test_instance.test_locale_files_validation()\n        print(\"âœ… å¤šè¯­è¨€æ–‡ä»¶schemaéªŒè¯é€šè¿‡\")\n        \n        test_instance.test_readme_content()\n        print(\"âœ… READMEå†…å®¹éªŒè¯é€šè¿‡\")\n        \n        test_instance.test_system_prompt_content_extracted()\n        print(\"âœ… ç³»ç»Ÿæç¤ºè¯å†…å®¹éªŒè¯é€šè¿‡\")\n        \n        print(\"\\nðŸŽ‰ å­ä»»åŠ¡14.1éªŒæ”¶æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼\")\n        \n    except AssertionError as e:\n        print(f\"âŒ éªŒè¯å¤±è´¥: {e}\")\n    except Exception as e:\n        print(f\"âŒ æµ‹è¯•è¿‡ç¨‹å‡ºé”™: {e}\")",
      "function_name": null,
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_mcp_watcher.py",
      "line_number": 174,
      "column": 8,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n            watcher = MCPConfigWatcher(config_path)\n            \n            # ç¬¬ä¸€æ¬¡å¯åŠ¨\n            result1 = watcher.start_watching()\n            assert result1\n            assert watcher.is_watching\n            \n            # ç¬¬äºŒæ¬¡å¯åŠ¨ï¼ˆåº”è¯¥è¿”å›žTrueä½†ä¸é‡å¤å¯åŠ¨ï¼‰\n            result2 = watcher.start_watching()\n            assert result2\n            assert watcher.is_watching\n            \n            watcher.stop_watching()\n            \n        finally:\n            Path(config_path).unlink(missing_ok=True)",
      "function_name": "test_start_watching_already_watching",
      "class_name": "TestMCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_mcp_watcher.py",
      "line_number": 244,
      "column": 8,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n            watcher = MCPConfigWatcher(config_path)\n            callback = MagicMock()\n            watcher.add_callback(callback)\n            \n            info = watcher.get_config_info()\n            \n            assert info['config_path'] == str(Path(config_path).resolve())\n            assert info['is_watching'] == False\n            assert info['callbacks_count'] == 1\n            assert info['file_exists'] == True\n            assert info['file_size'] > 0\n            assert info['last_modified'] > 0\n            \n        finally:\n            Path(config_path).unlink(missing_ok=True)",
      "function_name": "test_get_config_info",
      "class_name": "TestMCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_mcp_watcher.py",
      "line_number": 267,
      "column": 8,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n            watcher = MCPConfigWatcher(config_path)\n            \n            with watcher:\n                assert watcher.is_watching\n            \n            assert not watcher.is_watching\n            \n        finally:\n            Path(config_path).unlink(missing_ok=True)",
      "function_name": "test_context_manager",
      "class_name": "TestMCPConfigWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_mcp_watcher.py",
      "line_number": 316,
      "column": 8,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n            watcher = get_mcp_config_watcher(config_path)\n            watcher.start_watching()\n            \n            assert watcher.is_watching\n            \n            # é‡ç½®åº”è¯¥åœæ­¢ç›‘æŽ§\n            reset_mcp_config_watcher()\n            \n            # åŽŸç›‘æŽ§å™¨åº”è¯¥å·²åœæ­¢\n            assert not watcher.is_watching\n            \n        finally:\n            Path(config_path).unlink(missing_ok=True)",
      "function_name": "test_reset_watching_watcher",
      "class_name": "TestGlobalWatcher"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_mcp_watcher.py",
      "line_number": 350,
      "column": 8,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n            watcher = MCPConfigWatcher(config_path)\n            callback_results = []\n            \n            def test_callback(config):\n                callback_results.append(config)\n            \n            watcher.add_callback(test_callback)\n            \n            # å¯åŠ¨ç›‘æŽ§\n            assert watcher.start_watching()\n            \n            # ç­‰å¾…ç›‘æŽ§å™¨å¯åŠ¨\n            time.sleep(0.1)\n            \n            # ä¿®æ”¹é…ç½®æ–‡ä»¶\n            modified_config = {\"version\": \"2.0\", \"servers\": {\"test\": {}}}\n            with open(config_path, 'w') as f:\n                json.dump(modified_config, f)\n            \n            # ç­‰å¾…æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶å¤„ç†\n            time.sleep(2.0)\n            \n            # åœæ­¢ç›‘æŽ§\n            watcher.stop_watching()\n            \n            # éªŒè¯å›žè°ƒè¢«è°ƒç”¨ï¼ˆå¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´ï¼‰\n            # æ³¨æ„ï¼šåœ¨æŸäº›ç³»ç»Ÿä¸Šæ–‡ä»¶ç›‘æŽ§å¯èƒ½ä¸ä¼šç«‹å³è§¦å‘\n            # è¿™ä¸ªæµ‹è¯•ä¸»è¦éªŒè¯ç›‘æŽ§å™¨èƒ½æ­£å¸¸å¯åŠ¨å’Œåœæ­¢\n            \n        finally:\n            Path(config_path).unlink(missing_ok=True)",
      "function_name": "test_file_modification_detection",
      "class_name": "TestIntegration"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 38,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                assert config.get('DEEPSEEK_API_KEY') == 'sk-test-123'\n                assert config.get('OPENROUTER_API_KEY') == 'sk-or-test-456'\n                assert config.get_bool('USE_DEEPSEEK_R1') is True\n                assert config.get_bool('DEBUG') is False\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_load_valid_env_file",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 61,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                assert config.get('API_KEY_1') == 'sk-test-with-double-quotes'\n                assert config.get('API_KEY_2') == 'sk-test-with-single-quotes'\n                assert config.get('NORMAL_KEY') == 'sk-test-without-quotes'\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_load_env_with_quotes",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 86,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                assert config.get('API_KEY') == 'sk-test-123'\n                assert config.get('ANOTHER_KEY') == 'value'\n                \n                # ç¡®ä¿åªæœ‰è¿™ä¸¤ä¸ªé…ç½®\n                all_config = config.list_all()\n                assert len(all_config) == 2\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_skip_comments_and_empty_lines",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 114,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                # æµ‹è¯•å­˜åœ¨çš„é”®\n                assert config.get('EXISTING_KEY') == 'existing_value'\n                \n                # æµ‹è¯•ä¸å­˜åœ¨çš„é”®\n                assert config.get('NONEXISTENT_KEY') is None\n                \n                # æµ‹è¯•å¸¦é»˜è®¤å€¼çš„æƒ…å†µ\n                assert config.get('NONEXISTENT_KEY', 'default') == 'default'\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_get_method",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 137,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                # æµ‹è¯•å­˜åœ¨çš„å¿…éœ€é”®\n                assert config.require('REQUIRED_KEY') == 'required_value'\n                \n                # æµ‹è¯•ä¸å­˜åœ¨çš„å¿…éœ€é”®\n                with pytest.raises(ConfigError) as exc_info:\n                    config.require('MISSING_REQUIRED_KEY')\n                \n                assert \"ç¼ºå°‘å¿…éœ€çš„é…ç½®\" in str(exc_info.value)\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_require_method",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 173,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                # æµ‹è¯•çœŸå€¼\n                assert config.get_bool('TRUE_1') is True\n                assert config.get_bool('TRUE_2') is True\n                assert config.get_bool('TRUE_3') is True\n                assert config.get_bool('TRUE_4') is True\n                assert config.get_bool('TRUE_5') is True\n                assert config.get_bool('TRUE_6') is True\n                \n                # æµ‹è¯•å‡å€¼\n                assert config.get_bool('FALSE_1') is False\n                assert config.get_bool('FALSE_2') is False\n                assert config.get_bool('FALSE_3') is False\n                assert config.get_bool('FALSE_4') is False\n                assert config.get_bool('FALSE_5') is False\n                assert config.get_bool('EMPTY_VALUE') is False\n                \n                # æµ‹è¯•ä¸å­˜åœ¨çš„é”®\n                assert config.get_bool('NONEXISTENT') is False\n                assert config.get_bool('NONEXISTENT', True) is True\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_get_bool_method",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 211,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                # æ£€æŸ¥æœ‰æ•ˆé…ç½®åŠ è½½æˆåŠŸ\n                assert config.get('VALID_KEY') == 'valid_value'\n                assert config.get('ANOTHER_KEY') == 'another_value'\n                \n                # æ£€æŸ¥è­¦å‘Šè¾“å‡º\n                captured = capsys.readouterr()\n                assert \"è­¦å‘Š\" in captured.out\n                assert \"æ ¼å¼é”™è¯¯\" in captured.out\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_malformed_line_warning",
      "class_name": "TestConfig"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/unit/test_config.py",
      "line_number": 269,
      "column": 12,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n                config = Config(f.name)\n                \n                # éªŒè¯DeepSeeké…ç½®\n                assert config.require('DEEPSEEK_API_KEY') == 'sk-da85e6f63dc1462eb575e0d4357ab63e'\n                assert config.get_bool('USE_DEEPSEEK_R1') is True\n                assert config.get('OPENROUTER_API_KEY') == 'sk-or-v1-test'\n                \n            finally:\n                os.unlink(f.name)",
      "function_name": "test_deepseek_config_scenario",
      "class_name": "TestConfigIntegration"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/tests/integration/test_mcp_integration.py",
      "line_number": 75,
      "column": 8,
      "handler_type": "try-finally",
      "exception_types": [],
      "has_bare_except": false,
      "has_finally": true,
      "code_snippet": "try:\n            # é‡ç½®é…ç½®åŠ è½½å™¨ä»¥è§¦å‘é‡æ–°åŠ è½½\n            reset_mcp_config_loader()\n            \n            # æµ‹è¯•åŽå¤‡é…ç½®\n            mcp_servers = setup_mcp_servers()\n            \n            # éªŒè¯åŽå¤‡é…ç½®\n            assert isinstance(mcp_servers, dict)\n            assert len(mcp_servers) > 0\n            \n            # éªŒè¯åŒ…å«åŸºæœ¬æœåŠ¡å™¨\n            expected_servers = ['time', 'fetch', 'memory']\n            for server in expected_servers:\n                assert server in mcp_servers\n            \n        finally:\n            # æ¢å¤é…ç½®æ–‡ä»¶\n            if backup_file.exists():\n                backup_file.rename(config_file)",
      "function_name": "test_fallback_behavior_when_config_missing",
      "class_name": "TestMCPIntegration"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/scripts/analyze_code.py",
      "line_number": 21,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        result = subprocess.run(cmd, capture_output=True, text=True)\n        print(f\"Vultureè¾“å‡º:\\n{result.stdout}\")\n        if result.stderr:\n            print(f\"Vultureé”™è¯¯:\\n{result.stderr}\")\n        return result.stdout\n    except Exception as e:\n        print(f\"è¿è¡Œvultureå¤±è´¥: {e}\")\n        return None",
      "function_name": "run_vulture",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/scripts/analyze_code.py",
      "line_number": 37,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        result = subprocess.run(cmd, capture_output=True, text=True)\n        print(f\"Pyflakesè¾“å‡º:\\n{result.stdout}\")\n        if result.stderr:\n            print(f\"Pyflakesé”™è¯¯:\\n{result.stderr}\")\n        return result.stdout\n    except Exception as e:\n        print(f\"è¿è¡Œpyflakeså¤±è´¥: {e}\")\n        return None",
      "function_name": "run_pyflakes",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/scripts/analyze_code.py",
      "line_number": 50,
      "column": 4,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n        with open(file_path, 'r', encoding='utf-8') as f:\n            content = f.read()\n        \n        tree = ast.parse(content)\n        imports = {'import': [], 'from_import': []}\n        \n        for node in ast.walk(tree):\n            if isinstance(node, ast.Import):\n                for alias in node.names:\n                    imports['import'].append(alias.name)\n            elif isinstance(node, ast.ImportFrom):\n                if node.module:\n                    for alias in node.names:\n                        imports['from_import'].append(f\"{node.module}.{alias.name}\")\n        \n        return imports\n    except Exception as e:\n        print(f\"åˆ†æž {file_path} å¯¼å…¥å¤±è´¥: {e}\")\n        return {'import': [], 'from_import': []}",
      "function_name": "analyze_imports",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/scripts/exception_audit.py",
      "line_number": 195,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "(IndexError, TypeError)"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            if start_line <= len(self.source_lines):\n                if end_line <= len(self.source_lines):\n                    lines = self.source_lines[start_line-1:end_line]\n                else:\n                    lines = self.source_lines[start_line-1:start_line]\n                return '\\n'.join(lines).strip()\n        except (IndexError, TypeError):\n            pass",
      "function_name": "_get_code_snippet",
      "class_name": "ExceptionAuditVisitor"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/scripts/exception_audit.py",
      "line_number": 231,
      "column": 12,
      "handler_type": "try-except",
      "exception_types": [
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n                self._analyze_file(file_path)\n            except Exception as e:\n                print(f\"âŒ åˆ†æžæ–‡ä»¶å¤±è´¥ {file_path}: {e}\")",
      "function_name": "_scan_directory",
      "class_name": "ExceptionAuditor"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/scripts/exception_audit.py",
      "line_number": 251,
      "column": 8,
      "handler_type": "try-except",
      "exception_types": [
        "SyntaxError",
        "Exception"
      ],
      "has_bare_except": false,
      "has_finally": false,
      "code_snippet": "try:\n            with open(file_path, 'r', encoding='utf-8') as f:\n                source_code = f.read()\n                \n            # è§£æžAST\n            tree = ast.parse(source_code, filename=str(file_path))\n            \n            # åˆ›å»ºè®¿é—®å™¨å¹¶éåŽ†AST\n            visitor = ExceptionAuditVisitor(str(file_path), source_code)\n            visitor.visit(tree)\n            \n            # æ”¶é›†ç»“æžœ\n            self.all_handlers.extend(visitor.exception_handlers)\n            self.all_fallbacks.extend(visitor.fallback_patterns)\n            \n            if visitor.exception_handlers or visitor.fallback_patterns:\n                print(f\"ðŸ“„ {file_path.relative_to(self.project_root)}: \"\n                      f\"{len(visitor.exception_handlers)} å¼‚å¸¸å¤„ç†, \"\n                      f\"{len(visitor.fallback_patterns)} fallbackæ¨¡å¼\")\n                      \n        except SyntaxError as e:\n            print(f\"âš ï¸ è¯­æ³•é”™è¯¯ {file_path}: {e}\")\n        except Exception as e:\n            print(f\"âŒ å¤„ç†æ–‡ä»¶å¤±è´¥ {file_path}: {e}\")",
      "function_name": "_analyze_file",
      "class_name": "ExceptionAuditor"
    }
  ],
  "fallback_patterns": [
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/main.py",
      "line_number": 341,
      "column": 8,
      "pattern_type": "conditional-fallback",
      "code_snippet": "model_display = \"DeepSeek-R1æŽ¨ç†æ¨¡åž‹\" if use_r1 else \"DeepSeek-V3ç¨³å®šæ¨¡åž‹\"",
      "function_name": "main",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/ui/helpers.py",
      "line_number": 62,
      "column": 4,
      "pattern_type": "conditional-fallback",
      "code_snippet": "model_info = \"DeepSeek-R1 æŽ¨ç†æ¨¡åž‹\" if use_r1 else \"DeepSeek-V3 ç¨³å®šæ¨¡åž‹\"",
      "function_name": "show_welcome",
      "class_name": null
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/prompt_manager.py",
      "line_number": 112,
      "column": 8,
      "pattern_type": "conditional-fallback",
      "code_snippet": "provided_vars = set(variables.keys()) if variables else set()",
      "function_name": "validate_variables",
      "class_name": "PromptManager"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_validator.py",
      "line_number": 54,
      "column": 8,
      "pattern_type": "conditional-fallback",
      "code_snippet": "self.schema_path = Path(schema_path) if schema_path else None",
      "function_name": "__init__",
      "class_name": "MCPConfigValidator"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_validator.py",
      "line_number": 105,
      "column": 12,
      "pattern_type": "conditional-fallback",
      "code_snippet": "field_path = '.'.join(str(p) for p in e.absolute_path) if e.absolute_path else \"æ ¹çº§åˆ«\"",
      "function_name": "validate_schema",
      "class_name": "MCPConfigValidator"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_validator.py",
      "line_number": 109,
      "column": 16,
      "pattern_type": "conditional-fallback",
      "code_snippet": "missing_field = e.message.split(\"'\")[1] if \"'\" in e.message else \"æœªçŸ¥å­—æ®µ\"",
      "function_name": "validate_schema",
      "class_name": "MCPConfigValidator"
    },
    {
      "file_path": "/Users/zhibinpan/workspace/meta-agent/src/config/mcp_config.py",
      "line_number": 262,
      "column": 12,
      "pattern_type": "conditional-fallback",
      "code_snippet": "old_config = self._config_cache.copy() if self._config_cache else {}",
      "function_name": "reload_config",
      "class_name": "MCPConfigLoader"
    }
  ],
  "statistics": {
    "handler_types": {
      "try-except": 42,
      "try-finally": 14
    },
    "exception_types": {
      "PromptManagerError": 2,
      "Exception": 33,
      "MCPConfigError": 2,
      "ConfigError": 2,
      "KeyboardInterrupt": 1,
      "ModelConfigError": 1,
      "(EOFError, KeyboardInterrupt)": 1,
      "requests.exceptions.RequestException": 1,
      "APIConnectionError": 1,
      "json.JSONDecodeError": 2,
      "ValidationError": 5,
      "MCPValidationError": 1,
      "FileNotFoundError": 1,
      "AssertionError": 1,
      "(IndexError, TypeError)": 1,
      "SyntaxError": 1
    },
    "fallback_types": {
      "conditional-fallback": 7
    },
    "bare_except_count": 0,
    "finally_block_count": 14
  }
}